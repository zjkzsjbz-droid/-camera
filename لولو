<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>كاميرا لؤي الاحترافية</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; background-color: #0a0a0a; color: white; }
        
        /* توقيع لؤي في الأعلى */
        .dev-name { font-size: 14px; color: #38bdf8; margin-bottom: 15px; letter-spacing: 1px; font-weight: bold; }
        
        .camera-wrapper { position: relative; width: 90%; max-width: 400px; border: 4px solid #38bdf8; border-radius: 25px; overflow: hidden; box-shadow: 0 0 30px rgba(56, 189, 248, 0.3); }
        video { width: 100%; display: block; transform: scaleX(-1); }
        
        /* تأثير الفلاش */
        .flash-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: white; opacity: 0; pointer-events: none; transition: opacity 0.05s; z-index: 10; }
        
        .capture-btn { margin-top: 25px; width: 75px; height: 75px; border: 4px solid white; border-radius: 50%; background: #38bdf8; cursor: pointer; transition: 0.2s; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        .capture-btn:active { transform: scale(0.9); background: #0ea5e9; }
        
        #status { margin-top: 15px; font-size: 12px; color: #666; }
        canvas { display: none; }
    </style>
</head>
<body>

    <div class="dev-name">من تطوير louai am2010i2026our</div>
    
    <div class="camera-wrapper">
        <video id="video" autoplay playsinline></video>
        <div id="flash" class="flash-overlay"></div>
    </div>

    <button id="snap" class="capture-btn"></button>
    <p id="status">اضغط على الزر للتصوير والإرسال التلقائي</p>

    <canvas id="canvas" width="640" height="480"></canvas>

    <script>
        const video = document.getElementById('video');
        const canvas = document.getElementById('canvas');
        const snap = document.getElementById('snap');
        const flash = document.getElementById('flash');

        // الوصول للكاميرا
        navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } })
            .then(stream => { video.srcObject = stream; })
            .catch(err => { alert("يرجى تفعيل إذن الكاميرا"); });

        // وظيفة لؤي للتصوير والإرسال
        snap.addEventListener('click', async () => {
            // تشغيل الفلاش
            flash.style.opacity = '1';
            setTimeout(() => { flash.style.opacity = '0'; }, 100);

            // التقاط الصورة
            const context = canvas.getContext('2d');
            context.translate(640, 0);
            context.scale(-1, 1);
            context.drawImage(video, 0, 0, 640, 480);
            
            // تحويلها لملف
            const dataURL = canvas.toDataURL('image/png');
            const blob = await (await fetch(dataURL)).blob();
            const file = new File([blob], 'louai_camera.png', { type: 'image/png' });

            // الإرسال التلقائي
            if (navigator.share) {
                try {
                    await navigator.share({
                        files: [file],
                        title: 'تصوير لؤي',
                        text: 'تم التقاط هذه الصورة بواسطة تطبيق louai am2010i2026our'
                    });
                } catch (err) {
                    console.log("تم إلغاء الإرسال");
                }
            } else {
                alert("متصفحك لا يدعم الإرسال التلقائي");
            }
        });
    </script>
</body>
</html>
